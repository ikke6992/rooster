<div class="mx-2">Currently viewing: {{ getMonthName(month) }} {{ year }}</div>
<button (click)="decrementMonth()" class="button-action" i18n>Previous Month</button>
<button (click)="incrementMonth()" class="button-action" i18n>Next Month</button>
<button (click)="print()" class="button-action" i18n>Print schedule</button>
<button (click)="exportExcel()" class="button-action" i18n>Download Excel</button>
<div id="schedule">
  <table class="w-full">
    <tr>
      <th i18n>Date</th>
      <th *ngFor="let number of TOTAL_CLASSROOMS" i18n>Classroom {{ number }}</th>
    </tr>
    <tr class="text-center border-2" *ngFor="let day of days">
      <td
        [ngClass]="
          day.isFreeDay
            ? 'bg-yellow'
            : day.isWeekend
            ? 'bg-light-green'
            : 'bg-blue'
        "
        style="width: 5%"
      >
        {{ day.id }}/{{ month }}/{{ year }}
      </td>
      <td
        *ngFor="let number of TOTAL_CLASSROOMS"
        [ngClass]="
          day.isFreeDay
            ? 'bg-yellow'
            : day.isWeekend
            ? 'bg-light-green'
            : 'bg-white'
        "
        (dragover)="onDragOver($event)"
        (drop)="onDrop($event, day, number)"
      >
        <div
          *ngFor="let item of data"
          draggable="true"
          (dragstart)="onDragStart($event, item)"
        >
          <app-scheduled-day
            [item]="item"
            [day]="day.id"
            [classroom]="number"
          />
          <app-modal id="override-{{ item.id }}" class="hhidden">
            <ng-container *ngIf="selectedModal && selectedModal === item.id">
              <app-override
                [scheduledday]="item"
                [date]="destinationdate"
                [classroomId]="destinationclassroom"
              ></app-override>
              <button (click)="closeModal('override-' + item.id)" i18n>Close</button>
            </ng-container>
          </app-modal>
        </div>
      </td>
    </tr>
  </table>
</div>
